"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[10],{3453:(T,N,k)=>{k.r(N),k.d(N,{tsubMiddleware:()=>e});var j=k(4442),e=function(r){return function(n){var o=n.payload,i=n.integration,c=n.next;new j.Store(r).getRulesByDestinationName(i).forEach(function(y){for(var m=y.matchers,s=y.transformers,a=0;a<m.length;a++)if(j.matches(o.obj,m[a])&&(o.obj=j.transform(o.obj,s[a]),null===o.obj))return c(null)}),c(o)}}},4442:T=>{self,T.exports=function(){var N={2870:function(t,e,r){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.Store=e.matches=e.transform=void 0;var o=r(4303);Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return n(o).default}});var i=r(2370);Object.defineProperty(e,"matches",{enumerable:!0,get:function(){return n(i).default}});var c=r(1444);Object.defineProperty(e,"Store",{enumerable:!0,get:function(){return n(c).default}})},2370:function(t,e,r){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(7843));function i(s,a){if(!Array.isArray(s))return!0===c(s,a);var l,A,v,g,p,h,w,b=s[0];switch(b){case"!":return!i(s[1],a);case"or":for(var d=1;d<s.length;d++)if(i(s[d],a))return!0;return!1;case"and":for(d=1;d<s.length;d++)if(!i(s[d],a))return!1;return!0;case"=":case"!=":return function(p,h,w,_){switch(u(p)&&(p=i(p,_)),u(h)&&(h=i(h,_)),"object"==typeof p&&"object"==typeof h&&(p=JSON.stringify(p),h=JSON.stringify(h)),w){case"=":return p===h;case"!=":return p!==h;default:throw new Error("Invalid operator in compareItems: ".concat(w))}}(c(s[1],a),c(s[2],a),b,a);case"<=":case"<":case">":case">=":return function(p,h,w,_){if(u(p)&&(p=i(p,_)),u(h)&&(h=i(h,_)),"number"!=typeof p||"number"!=typeof h)return!1;switch(w){case"<=":return p<=h;case">=":return p>=h;case"<":return p<h;case">":return p>h;default:throw new Error("Invalid operator in compareNumbers: ".concat(w))}}(c(s[1],a),c(s[2],a),b,a);case"in":return p=c(s[1],a),h=c(s[2],a),w=a,void 0!==h.find(function(_){return c(_,w)===p});case"contains":return v=c(s[1],a),g=c(s[2],a),"string"==typeof v&&"string"==typeof g&&-1!==v.indexOf(g);case"match":return l=c(s[1],a),A=c(s[2],a),"string"==typeof l&&"string"==typeof A&&function(p,h){var w,_;r:for(;p.length>0;){var O,S;if(O=(w=f(p)).star,S=w.chunk,p=w.pattern,O&&""===S)return!0;var E=y(S,h),P=E.t,U=E.ok,I=E.err;if(I)return!1;if(!U||!(0===P.length||p.length>0)){if(O)for(var M=0;M<h.length;M++){if(P=(_=y(S,h.slice(M+1))).t,I=_.err,U=_.ok){if(0===p.length&&P.length>0)continue;h=P;continue r}if(I)return!1}return!1}h=P}return 0===h.length}(A,l);case"lowercase":var x=c(s[1],a);return"string"!=typeof x?null:x.toLowerCase();case"typeof":return typeof c(s[1],a);case"length":return function(p){return null===p?0:Array.isArray(p)||"string"==typeof p?p.length:NaN}(c(s[1],a));default:throw new Error("FQL IR could not evaluate for token: ".concat(b))}}function c(s,a){return Array.isArray(s)?s:"object"==typeof s?s.value:(0,o.default)(a,s)}function u(s){return!!Array.isArray(s)&&(("lowercase"===s[0]||"length"===s[0]||"typeof"===s[0])&&2===s.length||("contains"===s[0]||"match"===s[0])&&3===s.length)}function f(s){for(var a={star:!1,chunk:"",pattern:""};s.length>0&&"*"===s[0];)s=s.slice(1),a.star=!0;var l,A=!1;r:for(l=0;l<s.length;l++)switch(s[l]){case"\\":l+1<s.length&&l++;break;case"[":A=!0;break;case"]":A=!1;break;case"*":if(!A)break r}return a.chunk=s.slice(0,l),a.pattern=s.slice(l),a}function y(s,a){for(var l,A,v={t:"",ok:!1,err:!1};s.length>0;){if(0===a.length)return v;switch(s[0]){case"[":var g=a[0];a=a.slice(1);var b=!0;(s=s.slice(1)).length>0&&"^"===s[0]&&(b=!1,s=s.slice(1));for(var d=!1,x=0;;){if(s.length>0&&"]"===s[0]&&x>0){s=s.slice(1);break}var p,h="";if(p=(l=m(s)).char,s=l.newChunk,l.err||(h=p,"-"===s[0]&&(h=(A=m(s.slice(1))).char,s=A.newChunk,A.err)))return v;p<=g&&g<=h&&(d=!0),x++}if(d!==b)return v;break;case"?":a=a.slice(1),s=s.slice(1);break;case"\\":if(0===(s=s.slice(1)).length)return v.err=!0,v;default:if(s[0]!==a[0])return v;a=a.slice(1),s=s.slice(1)}}return v.t=a,v.ok=!0,v.err=!1,v}function m(s){var a={char:"",newChunk:"",err:!1};return 0===s.length||"-"===s[0]||"]"===s[0]||"\\"===s[0]&&0===(s=s.slice(1)).length?(a.err=!0,a):(a.char=s[0],a.newChunk=s.slice(1),0===a.newChunk.length&&(a.err=!0),a)}e.default=function(s,a){if(!a)throw new Error("No matcher supplied!");switch(a.type){case"all":return!0;case"fql":return function(l,A){if(!l)return!1;try{l=JSON.parse(l)}catch(g){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(l,'": ').concat(g))}var v=i(l,A);return"boolean"==typeof v&&v}(a.ir,s);default:throw new Error("Matcher of type ".concat(a.type," unsupported."))}}},1444:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(o){this.rules=[],this.rules=o||[]}return n.prototype.getRulesByDestinationName=function(o){for(var i=[],c=0,u=this.rules;c<u.length;c++){var f=u[c];f.destinationName!==o&&void 0!==f.destinationName||i.push(f)}return i},n}();e.default=r},4303:function(t,e,r){var n=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(374)),i=n(r(7843)),c=n(r(5500)),u=r(9014),f=r(4966);function y(v,g){s(v,g.drop,function(b,d){d.forEach(function(x){return delete b[x]})})}function m(v,g){s(v,g.allow,function(b,d){Object.keys(b).forEach(function(x){d.includes(x)||delete b[x]})})}function s(v,g,b){Object.entries(g).forEach(function(d){var x=d[0],p=d[1],h=function(_){"object"==typeof _&&null!==_&&b(_,p)},w=""===x?v:(0,i.default)(v,x);Array.isArray(w)?w.forEach(h):h(w)})}function a(v,g){var b=JSON.parse(JSON.stringify(v));for(var d in g.map)if(g.map.hasOwnProperty(d)){var x=g.map[d],p=d.split("."),h=void 0;if(p.length>1?(p.pop(),h=(0,i.default)(b,p.join("."))):h=v,"object"==typeof h){if(x.copy){var w=(0,i.default)(b,x.copy);void 0!==w&&(0,u.dset)(v,d,w)}else if(x.move){var _=(0,i.default)(b,x.move);void 0!==_&&(0,u.dset)(v,d,_),(0,f.unset)(v,x.move)}else x.hasOwnProperty("set")&&(0,u.dset)(v,d,x.set);if(x.to_string){var O=(0,i.default)(v,d);if("string"==typeof O||"object"==typeof O&&null!==O)continue;(0,u.dset)(v,d,void 0!==O?JSON.stringify(O):"undefined")}}}}function l(v,g){return!(g.sample.percent<=0)&&(g.sample.percent>=1||(g.sample.path?function(d,x){var p=(0,i.default)(d,x.sample.path),h=(0,o.default)(JSON.stringify(p)),w=-64,_=[];A(h.slice(0,8),_);for(var O=0,S=0;S<64&&1!==_[S];S++)O++;if(0!==O){var E=[];A(h.slice(9,16),E),w-=O,_.splice(0,O),E.splice(64-O),_=_.concat(E)}return _[63]=0===_[63]?1:0,(0,c.default)(parseInt(_.join(""),2),w)<x.sample.percent}(v,g):(b=g.sample.percent,Math.random()<=b)));var b}function A(v,g){for(var b=0;b<8;b++)for(var d=v[b],x=128;x>=1;x/=2)d-x>=0?(d-=x,g.push(1)):g.push(0)}e.default=function(v,g){for(var b=v,d=0,x=g;d<x.length;d++){var p=x[d];switch(p.type){case"drop":return null;case"drop_properties":y(b,p.config);break;case"allow_properties":m(b,p.config);break;case"sample_event":if(l(b,p.config))break;return null;case"map_properties":a(b,p.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(p.type,'" is unsupported.'))}}return b}},4966:function(t,e,r){var n=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.unset=void 0;var o=n(r(7843));e.unset=function(i,c){if((0,o.default)(i,c)){for(var u=c.split("."),f=u.pop();u.length&&"\\"===u[u.length-1].slice(-1);)f=u.pop().slice(0,-1)+"."+f;for(;u.length;)i=i[c=u.shift()];return delete i[f]}return!0}},9014:function(t,e){e.dset=function(r,n,o){n.split&&(n=n.split("."));for(var i,c,u=0,f=n.length,y=r;u<f&&"__proto__"!==(c=n[u++])&&"constructor"!==c&&"prototype"!==c;)y=y[c]=u===f?o:typeof(i=y[c])==typeof n?i:0*n[u]!=0||~(""+n[u]).indexOf(".")?{}:[]}},3304:function(t){var e="function"==typeof Float64Array?Float64Array:void 0;t.exports=e},7382:function(t,e,r){var n,o=r(5569),i=r(3304),c=r(8482);n=o()?i:c,t.exports=n},8482:function(t){t.exports=function(){throw new Error("not implemented")}},6322:function(t,e,r){var n,o=r(2508),i=r(5679),c=r(882);n=o()?i:c,t.exports=n},882:function(t){t.exports=function(){throw new Error("not implemented")}},5679:function(t){var e="function"==typeof Uint16Array?Uint16Array:void 0;t.exports=e},4773:function(t,e,r){var n,o=r(9773),i=r(3004),c=r(3078);n=o()?i:c,t.exports=n},3078:function(t){t.exports=function(){throw new Error("not implemented")}},3004:function(t){var e="function"==typeof Uint32Array?Uint32Array:void 0;t.exports=e},7980:function(t,e,r){var n,o=r(8114),i=r(6737),c=r(3357);n=o()?i:c,t.exports=n},3357:function(t){t.exports=function(){throw new Error("not implemented")}},6737:function(t){var e="function"==typeof Uint8Array?Uint8Array:void 0;t.exports=e},2684:function(t){var e="function"==typeof Float64Array?Float64Array:null;t.exports=e},5569:function(t,e,r){var n=r(3876);t.exports=n},3876:function(t,e,r){var n=r(1448),o=r(2684);t.exports=function(){var i,c;if("function"!=typeof o)return!1;try{c=new o([1,3.14,-3.14,NaN]),i=n(c)&&1===c[0]&&3.14===c[1]&&-3.14===c[2]&&c[3]!=c[3]}catch{i=!1}return i}},9048:function(t,e,r){var n=r(3763);t.exports=n},3763:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(r,n){return null!=r&&e.call(r,n)}},7009:function(t,e,r){var n=r(6784);t.exports=n},6784:function(t){t.exports=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}},3123:function(t,e,r){var n=r(8481);t.exports=n},8481:function(t,e,r){var n=r(7009)();t.exports=function(){return n&&"symbol"==typeof Symbol.toStringTag}},2508:function(t,e,r){var n=r(3403);t.exports=n},3403:function(t,e,r){var n=r(768),o=r(9668),i=r(187);t.exports=function(){var c,u;if("function"!=typeof i)return!1;try{u=new i(u=[1,3.14,-3.14,o+1,o+2]),c=n(u)&&1===u[0]&&3===u[1]&&u[2]===o-2&&0===u[3]&&1===u[4]}catch{c=!1}return c}},187:function(t){var e="function"==typeof Uint16Array?Uint16Array:null;t.exports=e},9773:function(t,e,r){var n=r(2822);t.exports=n},2822:function(t,e,r){var n=r(2744),o=r(3899),i=r(746);t.exports=function(){var c,u;if("function"!=typeof i)return!1;try{u=new i(u=[1,3.14,-3.14,o+1,o+2]),c=n(u)&&1===u[0]&&3===u[1]&&u[2]===o-2&&0===u[3]&&1===u[4]}catch{c=!1}return c}},746:function(t){var e="function"==typeof Uint32Array?Uint32Array:null;t.exports=e},8114:function(t,e,r){var n=r(8066);t.exports=n},8066:function(t,e,r){var n=r(8279),o=r(3443),i=r(2731);t.exports=function(){var c,u;if("function"!=typeof i)return!1;try{u=new i(u=[1,3.14,-3.14,o+1,o+2]),c=n(u)&&1===u[0]&&3===u[1]&&u[2]===o-2&&0===u[3]&&1===u[4]}catch{c=!1}return c}},2731:function(t){var e="function"==typeof Uint8Array?Uint8Array:null;t.exports=e},1448:function(t,e,r){var n=r(1453);t.exports=n},1453:function(t,e,r){var n=r(6208),o="function"==typeof Float64Array;t.exports=function(i){return o&&i instanceof Float64Array||"[object Float64Array]"===n(i)}},9331:function(t,e,r){var n=r(7980),o={uint16:r(6322),uint8:n};t.exports=o},5902:function(t,e,r){var n=r(4106);t.exports=n},4106:function(t,e,r){var n,o,i=r(9331);(o=new i.uint16(1))[0]=4660,n=52===new i.uint8(o.buffer)[0],t.exports=n},768:function(t,e,r){var n=r(3823);t.exports=n},3823:function(t,e,r){var n=r(6208),o="function"==typeof Uint16Array;t.exports=function(i){return o&&i instanceof Uint16Array||"[object Uint16Array]"===n(i)}},2744:function(t,e,r){var n=r(2326);t.exports=n},2326:function(t,e,r){var n=r(6208),o="function"==typeof Uint32Array;t.exports=function(i){return o&&i instanceof Uint32Array||"[object Uint32Array]"===n(i)}},8279:function(t,e,r){var n=r(208);t.exports=n},208:function(t,e,r){var n=r(6208),o="function"==typeof Uint8Array;t.exports=function(i){return o&&i instanceof Uint8Array||"[object Uint8Array]"===n(i)}},6315:function(t){t.exports=1023},1686:function(t){t.exports=2147483647},3105:function(t){t.exports=2146435072},3449:function(t){t.exports=2147483648},6988:function(t){t.exports=-1023},9777:function(t){t.exports=1023},3690:function(t){t.exports=-1074},2918:function(t,e,r){var n=r(4772).NEGATIVE_INFINITY;t.exports=n},4165:function(t){t.exports=Number.POSITIVE_INFINITY},6488:function(t){t.exports=22250738585072014e-324},9668:function(t){t.exports=65535},3899:function(t){t.exports=4294967295},3443:function(t){t.exports=255},7011:function(t,e,r){var n=r(812);t.exports=n},812:function(t,e,r){var n=r(4165),o=r(2918);t.exports=function(i){return i===n||i===o}},1883:function(t,e,r){var n=r(1797);t.exports=n},1797:function(t){t.exports=function(e){return e!=e}},513:function(t,e,r){var n=r(5760);t.exports=n},5760:function(t){t.exports=function(e){return Math.abs(e)}},5848:function(t,e,r){var n=r(677);t.exports=n},677:function(t,e,r){var n=r(3449),o=r(1686),i=r(7838),c=r(1921),u=r(2490),f=[0,0];t.exports=function(y,m){var s,a;return i.assign(y,f,1,0),s=f[0],s&=o,a=c(m),u(s|=a&=n,f[1])}},5500:function(t,e,r){var n=r(8397);t.exports=n},8397:function(t,e,r){var n=r(4165),o=r(2918),i=r(6315),c=r(9777),u=r(6988),f=r(3690),y=r(1883),m=r(7011),s=r(5848),a=r(4948),l=r(8478),A=r(7838),v=r(2490),g=[0,0],b=[0,0];t.exports=function(d,x){var p,h;return 0===d||y(d)||m(d)?d:(a(g,d),x+=g[1],(x+=l(d=g[0]))<f?s(0,d):x>c?d<0?o:n:(x<=u?(x+=52,h=2220446049250313e-31):h=1,A(b,d),p=b[0],p&=2148532223,h*v(p|=x+i<<20,b[1])))}},4772:function(t,e,r){var n=r(7548);t.exports=n},7548:function(t){t.exports=Number},8478:function(t,e,r){var n=r(4500);t.exports=n},4500:function(t,e,r){var n=r(1921),o=r(3105),i=r(6315);t.exports=function(c){var u=n(c);return(u=(u&o)>>>20)-i|0}},2490:function(t,e,r){var n=r(9639);t.exports=n},4445:function(t,e,r){var o,i;!0===r(5902)?(o=1,i=0):(o=0,i=1),t.exports={HIGH:o,LOW:i}},9639:function(t,e,r){var n=r(4773),o=r(7382),i=r(4445),c=new o(1),u=new n(c.buffer),f=i.HIGH,y=i.LOW;t.exports=function(m,s){return u[f]=m,u[y]=s,c[0]}},5646:function(t,e,r){var n;n=!0===r(5902)?1:0,t.exports=n},1921:function(t,e,r){var n=r(6285);t.exports=n},6285:function(t,e,r){var n=r(4773),o=r(7382),i=r(5646),c=new o(1),u=new n(c.buffer);t.exports=function(f){return c[0]=f,u[i]}},9024:function(t,e,r){var n=r(6488),o=r(7011),i=r(1883),c=r(513);t.exports=function(u,f,y,m){return i(u)||o(u)?(f[m]=u,f[m+y]=0,f):0!==u&&c(u)<n?(f[m]=4503599627370496*u,f[m+y]=-52,f):(f[m]=u,f[m+y]=0,f)}},4948:function(t,e,r){var n=r(7576),o=r(9422);n(o,"assign",r(9024)),t.exports=o},9422:function(t,e,r){var n=r(9024);t.exports=function(o){return n(o,[0,0],1,0)}},5239:function(t,e,r){var n=r(4773),o=r(7382),i=r(5782),c=new o(1),u=new n(c.buffer),f=i.HIGH,y=i.LOW;t.exports=function(m,s,a,l){return c[0]=m,s[l]=u[f],s[l+a]=u[y],s}},7838:function(t,e,r){var n=r(7576),o=r(4010);n(o,"assign",r(5239)),t.exports=o},5782:function(t,e,r){var o,i;!0===r(5902)?(o=1,i=0):(o=0,i=1),t.exports={HIGH:o,LOW:i}},4010:function(t,e,r){var n=r(5239);t.exports=function(o){return n(o,[0,0],1,0)}},7576:function(t,e,r){var n=r(7063);t.exports=n},7063:function(t,e,r){var n=r(6691);t.exports=function(o,i,c){n(o,i,{configurable:!1,enumerable:!1,writable:!1,value:c})}},2073:function(t){t.exports=Object.defineProperty},1680:function(t){t.exports="function"==typeof Object.defineProperty?Object.defineProperty:null},1471:function(t,e,r){var n=r(1680);t.exports=function(){try{return n({},"x",{}),!0}catch{return!1}}},6691:function(t,e,r){var n,o=r(1471),i=r(2073),c=r(1309);n=o()?i:c,t.exports=n},1309:function(t){var e=Object.prototype,r=e.toString,n=e.__defineGetter__,o=e.__defineSetter__,i=e.__lookupGetter__,c=e.__lookupSetter__;t.exports=function(u,f,y){var m,s,a,l;if("object"!=typeof u||null===u||"[object Array]"===r.call(u))throw new TypeError("invalid argument. First argument must be an object. Value: `"+u+"`.");if("object"!=typeof y||null===y||"[object Array]"===r.call(y))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+y+"`.");if((s="value"in y)&&(i.call(u,f)||c.call(u,f)?(m=u.__proto__,u.__proto__=e,delete u[f],u[f]=y.value,u.__proto__=m):u[f]=y.value),a="get"in y,l="set"in y,s&&(a||l))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&n&&n.call(u,f,y.get),l&&o&&o.call(u,f,y.set),u}},6208:function(t,e,r){var n,o=r(3123),i=r(7407),c=r(4210);n=o()?c:i,t.exports=n},7407:function(t,e,r){var n=r(173);t.exports=function(o){return n.call(o)}},4210:function(t,e,r){var n=r(9048),o=r(1403),i=r(173);t.exports=function(c){var u,f,y;if(null==c)return i.call(c);f=c[o],u=n(c,o);try{c[o]=void 0}catch{return i.call(c)}return y=i.call(c),u?c[o]=f:delete c[o],y}},173:function(t){t.exports=Object.prototype.toString},1403:function(t){var e="function"==typeof Symbol?Symbol.toStringTag:"";t.exports=e},7843:function(t){t.exports=function(e,r,n,o,i){for(r=r.split?r.split("."):r,o=0;o<r.length;o++)e=e?e[r[o]]:i;return e===i?n:e}},374:function(t,e,r){r.r(e),r.d(e,{default:function(){return i}});for(var n=[],o=0;o<64;)n[o]=0|4294967296*Math.sin(++o%Math.PI);function i(c){var u,f,y,m=[u=1732584193,f=4023233417,~u,~f],s=[],a=unescape(encodeURI(c))+"\x80",l=a.length;for(c=--l/4+2|15,s[--c]=8*l;~l;)s[l>>2]|=a.charCodeAt(l)<<8*l--;for(o=a=0;o<c;o+=16){for(l=m;a<64;l=[y=l[3],u+((y=l[0]+[u&f|~u&y,y&u|~y&f,u^f^y,f^(u|~y)][l=a>>4]+n[a]+~~s[o|15&[a,5*a+1,3*a+5,7*a][l]])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+a++%4])|y>>>-l),u,f])u=0|l[1],f=l[2];for(a=4;a;)m[--a]+=l[a]}for(c="";a<32;)c+=(m[a>>3]>>4*(1^a++)&15).toString(16);return c}}},k={};function j(t){var e=k[t];if(void 0!==e)return e.exports;var r=k[t]={exports:{}};return N[t].call(r.exports,r,r.exports,j),r.exports}return j.d=function(t,e){for(var r in e)j.o(e,r)&&!j.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},j.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},j.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},j(2870)}()}}]);